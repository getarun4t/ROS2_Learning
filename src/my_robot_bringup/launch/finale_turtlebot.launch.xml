<launch>
    <set_env name="TURTLEBOT3_MODEL" value="waffle"></set_env>
    <include file="$(find-pkg-share turtlebot3_gazebo)/launch/empty_world.launch.py"></include>

    <node pkg="turtlesim" exec="turtlesim_node"></node>
    <executable cmd="ros2 service call /kill turtlesim/srv/Kill '{name: 'turtle1'}'" output="screen"></executable>
    

    <node pkg="rclcpp_components" exec="component_container_mt" name="turtleContainer"></node>

    <executable cmd="ros2 component load /turtleContainer finale finale::TurtleBotController -r __node:=n1" output="screen"></executable>

    <node pkg="lifecycle_py" exec="lifecycle_node_manager">
        <param name = "managed_node_name" value="n1"></param>
    </node>
</launch>